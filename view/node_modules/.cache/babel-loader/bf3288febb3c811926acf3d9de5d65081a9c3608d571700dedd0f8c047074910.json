{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n// const initialState = [\n\n// ];\n\nexport const loadProducts = createAsyncThunk('products/loadProducts', async () => {\n  try {\n    const response = await fetch('api/products');\n    if (response.ok) {\n      console.log(response);\n      const json = await response.json();\n      console.log(json);\n      return json.data;\n    }\n  } catch (error) {\n    throw new Error(error);\n  }\n});\nconst productsSlice = createSlice({\n  name: \"products\",\n  initialState: {\n    data: initialState,\n    isLoading: false,\n    hasError: false\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(loadProducts.pending, state => {\n      state.isLoading = true;\n      state.hasError = false;\n    }).addCase(loadProducts.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.hasError = false;\n      state.data = action.payload;\n    }).addCase(loadProducts.rejected, state => {\n      state.isLoading = false;\n      state.hasError = true;\n    });\n  }\n});\nexport const selectProducts = state => state.products.data;\nexport default productsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","loadProducts","response","fetch","ok","console","log","json","data","error","Error","productsSlice","name","initialState","isLoading","hasError","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","selectProducts","products","reducer"],"sources":["/Users/abhikvinod/Documents/python/Ecommerce_PERN_App/view/src/Components/Products/ProductsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n// const initialState = [\n\n// ];\n\nexport const loadProducts = createAsyncThunk(\n    'products/loadProducts',\n    async () => {\n        try {\n            const response = await fetch('api/products');\n            if (response.ok) {\n                console.log(response);\n                const json = await response.json();\n                console.log(json);\n                return json.data;\n            }\n        } catch (error) {\n            throw new Error(error);\n        }\n    }\n);\n\nconst productsSlice = createSlice({\n    name: \"products\",\n    initialState: {\n        data: initialState,\n        isLoading: false,\n        hasError: false\n    },\n    reducers: {\n\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(loadProducts.pending, (state) => {\n                state.isLoading = true;\n                state.hasError = false;\n            })\n\n            .addCase(loadProducts.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.hasError = false;\n                state.data = action.payload;\n            })\n\n            .addCase(loadProducts.rejected, (state) => {\n                state.isLoading = false;\n                state.hasError = true;\n            })\n    }\n});\n\nexport const selectProducts = (state) => state.products.data;\n\nexport default productsSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;;AAEhE;;AAEA;;AAEA,OAAO,MAAMC,YAAY,GAAGD,gBAAgB,CACxC,uBAAuB,EACvB,YAAY;EACR,IAAI;IACA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAc,CAAC;IAC5C,IAAID,QAAQ,CAACE,EAAE,EAAE;MACbC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;MACrB,MAAMK,IAAI,GAAG,MAAML,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClCF,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;MACjB,OAAOA,IAAI,CAACC,IAAI;IACpB;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAM,IAAIC,KAAK,CAACD,KAAK,CAAC;EAC1B;AACJ,CACJ,CAAC;AAED,MAAME,aAAa,GAAGZ,WAAW,CAAC;EAC9Ba,IAAI,EAAE,UAAU;EAChBC,YAAY,EAAE;IACVL,IAAI,EAAEK,YAAY;IAClBC,SAAS,EAAE,KAAK;IAChBC,QAAQ,EAAE;EACd,CAAC;EACDC,QAAQ,EAAE,CAEV,CAAC;EACDC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAAClB,YAAY,CAACmB,OAAO,EAAGC,KAAK,IAAK;MACtCA,KAAK,CAACP,SAAS,GAAG,IAAI;MACtBO,KAAK,CAACN,QAAQ,GAAG,KAAK;IAC1B,CAAC,CAAC,CAEDI,OAAO,CAAClB,YAAY,CAACqB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAChDF,KAAK,CAACP,SAAS,GAAG,KAAK;MACvBO,KAAK,CAACN,QAAQ,GAAG,KAAK;MACtBM,KAAK,CAACb,IAAI,GAAGe,MAAM,CAACC,OAAO;IAC/B,CAAC,CAAC,CAEDL,OAAO,CAAClB,YAAY,CAACwB,QAAQ,EAAGJ,KAAK,IAAK;MACvCA,KAAK,CAACP,SAAS,GAAG,KAAK;MACvBO,KAAK,CAACN,QAAQ,GAAG,IAAI;IACzB,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMW,cAAc,GAAIL,KAAK,IAAKA,KAAK,CAACM,QAAQ,CAACnB,IAAI;AAE5D,eAAeG,aAAa,CAACiB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}